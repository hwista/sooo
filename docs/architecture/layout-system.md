# ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ (Layout System)

SSOO í”„ë¡ íŠ¸ì—”ë“œì˜ ë ˆì´ì•„ì›ƒ êµ¬ì¡° ë° ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œì…ë‹ˆë‹¤.

## ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Browser Window                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             â”‚                Header (60px)               â”‚
â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Sidebar   â”‚              TabBar (53px)                 â”‚
â”‚  (60/240px) â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚             â”‚                                            â”‚
â”‚             â”‚             ContentArea                     â”‚
â”‚             â”‚                                            â”‚
â”‚             â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ì£¼ìš” ì¹˜ìˆ˜

```typescript
const LAYOUT_SIZES = {
  sidebar: {
    expandedWidth: 240,   // í¼ì¹œ ì‚¬ì´ë“œë°”
    collapsedWidth: 60,   // ì ‘ì€ ì‚¬ì´ë“œë°”
  },
  header: {
    height: 60,           // ìƒë‹¨ í—¤ë”
  },
  tabBar: {
    height: 53,           // íƒ­ë°”
  },
};
```

---

## ì»´í¬ë„ŒíŠ¸ ê³„ì¸µ

```
AppLayout
â”œâ”€â”€ MainSidebar
â”‚   â”œâ”€â”€ Header (ë¡œê³ , í† ê¸€ ë²„íŠ¼)
â”‚   â”œâ”€â”€ CollapsedSidebar (ì ‘íŒ ìƒíƒœ)
â”‚   â”‚   â””â”€â”€ ì•„ì´ì½˜ ë²„íŠ¼ë“¤
â”‚   â”œâ”€â”€ ExpandedSidebar (í¼ì¹œ ìƒíƒœ)
â”‚   â”‚   â”œâ”€â”€ Search (ê²€ìƒ‰ì°½ - ê³ ì •)
â”‚   â”‚   â”œâ”€â”€ ScrollArea
â”‚   â”‚   â”‚   â”œâ”€â”€ ì¦ê²¨ì°¾ê¸° ì„¹ì…˜
â”‚   â”‚   â”‚   â”œâ”€â”€ í˜„ì¬ ì—´ë¦° í˜ì´ì§€ ì„¹ì…˜
â”‚   â”‚   â”‚   â”œâ”€â”€ ë©”ë‰´ íƒìƒ‰ ì„¹ì…˜
â”‚   â”‚   â”‚   â””â”€â”€ ê´€ë¦¬ì ì„¹ì…˜ (isAdminë§Œ)
â”‚   â”‚   â””â”€â”€ Footer (ì¹´í”¼ë¼ì´íŠ¸ - ê³ ì •)
â”‚   â””â”€â”€ FloatingPanel (ì ‘íŒ ìƒíƒœì—ì„œ hover ì‹œ)
â”œâ”€â”€ Header (ìƒë‹¨ ë°”)
â”œâ”€â”€ TabBar (MDI íƒ­)
â””â”€â”€ ContentArea (í˜ì´ì§€ ë Œë”ë§)
```

---

## AppLayout

ë©”ì¸ ì•±ì˜ ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

### íŒŒì¼ ìœ„ì¹˜

`apps/web/src/components/layout/AppLayout.tsx`

### êµ¬ì¡°

```tsx
<div className="flex h-screen overflow-hidden bg-gray-50">
  {/* ì‚¬ì´ë“œë°” - ê³ ì • ìœ„ì¹˜ */}
  <MainSidebar />

  {/* ë©”ì¸ ì»¨í…ì¸  ì˜ì—­ */}
  <div style={{ marginLeft: sidebarWidth }}>
    <Header />
    <TabBar />
    <ContentArea>{children}</ContentArea>
  </div>
</div>
```

### ë°˜ì‘í˜• ì²˜ë¦¬

- **Desktop**: ê¸°ë³¸ ë ˆì´ì•„ì›ƒ
- **Mobile**: "ëª¨ë°”ì¼ ë²„ì „ ì¤€ë¹„ ì¤‘" ë©”ì‹œì§€ í‘œì‹œ (ì¶”í›„ ê°œë°œ)

---

## MainSidebar

ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤. ë‘ ê°€ì§€ ìƒíƒœë¥¼ ê°€ì§‘ë‹ˆë‹¤.

### íŒŒì¼ ìœ„ì¹˜

`apps/web/src/components/layout/MainSidebar/`

```
MainSidebar/
â”œâ”€â”€ index.ts
â”œâ”€â”€ MainSidebar.tsx       # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ CollapsedSidebar.tsx  # ì ‘íŒ ìƒíƒœ
â”œâ”€â”€ ExpandedSidebar.tsx   # í¼ì¹œ ìƒíƒœ
â””â”€â”€ FloatingPanel.tsx     # í”Œë¡œíŒ… íŒ¨ë„
```

### ìƒíƒœë³„ êµ¬ì¡°

#### í¼ì¹œ ìƒíƒœ (240px)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ  SSOO    [<<]     â”‚  Header (60px)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” ê²€ìƒ‰...           â”‚  Search (ê³ ì •)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¼ ì¦ê²¨ì°¾ê¸°           â”‚
â”‚   â­ í”„ë¡œì íŠ¸ ëª©ë¡    â”‚
â”‚                     â”‚
â”‚ â–¼ í˜„ì¬ ì—´ë¦° í˜ì´ì§€    â”‚  ScrollArea
â”‚   ğŸ“„ ìš”ì²­ì„œ ì‘ì„±      â”‚  (ìŠ¤í¬ë¡¤ ê°€ëŠ¥)
â”‚                     â”‚
â”‚ â–¼ ë©”ë‰´ íƒìƒ‰          â”‚
â”‚   ğŸ“ í”„ë¡œì íŠ¸        â”‚
â”‚     â”” ìš”ì²­          â”‚
â”‚     â”” ì œì•ˆ          â”‚
â”‚                     â”‚
â”‚ â–¼ ê´€ë¦¬ì            â”‚
â”‚   âš™ï¸ ì‚¬ìš©ì ê´€ë¦¬     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ v1.0.0              â”‚  Footer (ê³ ì •)
â”‚ Â© 2026 HWISTA       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ì ‘íŒ ìƒíƒœ (60px)

```
â”Œâ”€â”€â”€â”€â”
â”‚ ğŸ  â”‚ Header
â”œâ”€â”€â”€â”€â”¤
â”‚ â­ â”‚ ì¦ê²¨ì°¾ê¸°
â”‚ ğŸ“„ â”‚ ì—´ë¦° í˜ì´ì§€
â”‚ ğŸ“ â”‚ ë©”ë‰´ íƒìƒ‰
â”‚ âš™ï¸ â”‚ ê´€ë¦¬ì (isAdmin)
â”œâ”€â”€â”€â”€â”¤
â”‚ >> â”‚ í¼ì¹˜ê¸° ë²„íŠ¼
â””â”€â”€â”€â”€â”˜
```

### í”Œë¡œíŒ… íŒ¨ë„

ì ‘íŒ ìƒíƒœì—ì„œ ì•„ì´ì½˜ hover ì‹œ ë‚˜íƒ€ë‚˜ëŠ” í”Œë¡œíŒ… íŒ¨ë„ì…ë‹ˆë‹¤.

```typescript
const FLOAT_PANEL_CONFIG = {
  width: 280,
  openDelay: 200,   // hover í›„ 200ms í›„ ì—´ë¦¼
  closeDelay: 150,  // leave í›„ 150ms í›„ ë‹«í˜
};
```

### 4ê°œ ì„¹ì…˜

| ì„¹ì…˜ | ì•„ì´ì½˜ | ì„¤ëª… |
|------|--------|------|
| `favorites` | â­ Star | ì¦ê²¨ì°¾ê¸° ë©”ë‰´ |
| `openTabs` | ğŸ“„ FileText | í˜„ì¬ ì—´ë¦° í˜ì´ì§€ (Home ì œì™¸) |
| `menuTree` | ğŸ“ FolderTree | ì „ì²´ ë©”ë‰´ íŠ¸ë¦¬ |
| `admin` | âš™ï¸ Settings | ê´€ë¦¬ì ë©”ë‰´ (isAdminë§Œ) |

---

## Header

ìƒë‹¨ í—¤ë” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

### íŒŒì¼ ìœ„ì¹˜

`apps/web/src/components/layout/Header.tsx`

### êµ¬ì„± ìš”ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Breadcrumb]                          [Alarm] [Profile] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- **Breadcrumb**: í˜„ì¬ ìœ„ì¹˜ í‘œì‹œ (ì¶”í›„ ê°œë°œ)
- **Alarm**: ì•Œë¦¼ ë²„íŠ¼
- **Profile**: ì‚¬ìš©ì í”„ë¡œí•„ ë“œë¡­ë‹¤ìš´

---

## TabBar

MDI(Multiple Document Interface) íƒ­ë°” ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.

### íŒŒì¼ ìœ„ì¹˜

`apps/web/src/components/layout/TabBar.tsx`

### êµ¬ì„± ìš”ì†Œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ ] [í”„ë¡œì íŠ¸ ëª©ë¡ Ã—] [ìš”ì²­ì„œ ì‘ì„± Ã—] [ì œì•ˆì„œ ê²€í†  Ã—]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### íŠ¹ì§•

- **Home íƒ­**: í•­ìƒ ì²« ë²ˆì§¸, ë‹«ê¸° ë¶ˆê°€, ì•„ì´ì½˜ë§Œ í‘œì‹œ
- **ì¼ë°˜ íƒ­**: ì œëª© + ë‹«ê¸° ë²„íŠ¼
- **ìŠ¤í¬ë¡¤**: íƒ­ì´ ë§ìœ¼ë©´ ì¢Œìš° í™”ì‚´í‘œë¡œ ìŠ¤í¬ë¡¤
- **ìµœëŒ€ íƒ­ ìˆ˜**: 10ê°œ (ì´ˆê³¼ ì‹œ ê°€ì¥ ì˜¤ë˜ëœ íƒ­ ìë™ ë‹«í˜)

---

## ContentArea

í™œì„± íƒ­ì˜ í˜ì´ì§€ë¥¼ ë Œë”ë§í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.

### íŒŒì¼ ìœ„ì¹˜

`apps/web/src/components/layout/ContentArea.tsx`

### ë™ì‘ ë°©ì‹

1. `activeTabId`ì— í•´ë‹¹í•˜ëŠ” íƒ­ ì°¾ê¸°
2. íƒ­ì˜ `path`ë¡œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ë§¤í•‘
3. `React.lazy`ë¡œ ë™ì  ë¡œë”©
4. `Suspense`ë¡œ ë¡œë”© ìƒíƒœ ì²˜ë¦¬

### í˜ì´ì§€ ë§¤í•‘

```typescript
const pageComponents = {
  '/home': lazy(() => import('@/components/pages/home/HomeDashboardPage')),
  '/request': lazy(() => import('@/components/pages/request/RequestListPage')),
  '/request/create': lazy(() => import('@/components/pages/request/RequestCreatePage')),
  '/proposal': lazy(() => import('@/components/pages/proposal/ProposalListPage')),
  // ...
};
```

### Next.js ë¼ìš°íŒ…ê³¼ì˜ ê´€ê³„

- íƒ­ìœ¼ë¡œ ì—´ë¦° í˜ì´ì§€: `pageComponents`ì—ì„œ ë Œë”ë§
- ì§ì ‘ URL ì ‘ê·¼: Next.js App Router ì‚¬ìš© (`/app` í´ë”)

---

## ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼

ì‚¬ì´ë“œë°”ì™€ ì½˜í…ì¸  ì˜ì—­ì— ì»¤ìŠ¤í…€ ìŠ¤í¬ë¡¤ë°”ë¥¼ ì ìš©í•©ë‹ˆë‹¤.

### CSS ìœ í‹¸ë¦¬í‹°

```css
/* í¬ê¸° */
.scrollbar-thin { width: 4px; }
.scrollbar-default { width: 8px; }

/* ìƒ‰ìƒ */
.scrollbar-primary { thumb: primary color }
.scrollbar-transparent { thumb: transparent, hover: visible }

/* í”„ë¦¬ì…‹ */
.scrollbar-sidebar { ì‚¬ì´ë“œë°”ìš© ìŠ¤íƒ€ì¼ }
.scrollbar-table { í…Œì´ë¸”ìš© ìŠ¤íƒ€ì¼ }
```

### ScrollArea ì»´í¬ë„ŒíŠ¸

```tsx
<ScrollArea variant="sidebar" showOnHover>
  {/* ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì½˜í…ì¸  */}
</ScrollArea>
```

â¡ï¸ [ìŠ¤í¬ë¡¤ë°” ë¬¸ì„œ](./scrollbar.md)

---

## ê´€ë ¨ íŒŒì¼

### ì»´í¬ë„ŒíŠ¸

- `apps/web/src/components/layout/AppLayout.tsx`
- `apps/web/src/components/layout/MainSidebar/`
- `apps/web/src/components/layout/Header.tsx`
- `apps/web/src/components/layout/TabBar.tsx`
- `apps/web/src/components/layout/ContentArea.tsx`

### Store

- `apps/web/src/stores/sidebar.store.ts`
- `apps/web/src/stores/layout.store.ts`
- `apps/web/src/stores/tab.store.ts`

### íƒ€ì… ì •ì˜

- `apps/web/src/types/layout.types.ts`

## ê´€ë ¨ ë¬¸ì„œ

- [ìƒíƒœ ê´€ë¦¬](./state-management.md)
- [ìŠ¤í¬ë¡¤ë°” ì‹œìŠ¤í…œ](./scrollbar.md)
- [ë©”ë‰´ êµ¬ì¡°](../domain/menu-structure.md)

---

## Backlog

> ì´ ì˜ì—­ ê´€ë ¨ ê°œì„ /ì¶”ê°€ ì˜ˆì • í•­ëª©

| ID | í•­ëª© | ìš°ì„ ìˆœìœ„ | ìƒíƒœ |
|----|------|----------|------|
| LAY-01 | ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ êµ¬í˜„ | P2 | ğŸ”² ëŒ€ê¸° |
| LAY-02 | í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™” (Home, Request ë“±) | P3 | ğŸ”² ëŒ€ê¸° |
| LAY-03 | Header ë¸Œë ˆë“œí¬ëŸ¼ êµ¬í˜„ | P3 | ğŸ”² ëŒ€ê¸° |

---

## Changelog

> ì´ ì˜ì—­ ê´€ë ¨ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|----------|
| 2026-01-21 | ë ˆì´ì•„ì›ƒ ì‹œìŠ¤í…œ ë¬¸ì„œ ìµœì´ˆ ì‘ì„± |
| 2026-01-21 | ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ ì˜ì—­ ê²€ìƒ‰ë€ ì•„ë˜ë¡œ í•œì • |
| 2026-01-21 | ì‚¬ì´ë“œë°” í•˜ë‹¨ ì¹´í”¼ë¼ì´íŠ¸ ì˜ì—­ ì¶”ê°€ |
| 2026-01-21 | ì ‘íŒ ì‚¬ì´ë“œë°” ê´€ë¦¬ì ë©”ë‰´ í‘œì‹œ ìˆ˜ì • |
