# DMS í†µí•© ë¦¬íŒ©í„°ë§ ê³„íšì„œ

> ğŸ“… ê¸°ì¤€ì¼: 2026-01-29  
> ğŸ“Œ ëª©ì : PMS ê¸°ì¤€ DMS í”„ë¡œì íŠ¸ êµ¬ì¡° ì •ë ¬ ë° íŒ¨í‚¤ì§€ í†µí•©  
> ğŸ“‚ ì™„ë£Œ ë‚´ì—­: `package-integration-completed.md` ì°¸ì¡°

---

## ğŸ”´ í•µì‹¬ ì›ì¹™

> **DMSëŠ” ëª¨ë…¸ë ˆí¬ë¥¼ ëª°ë¼ì•¼ í•œë‹¤**

| ì›ì¹™ | ì„¤ëª… |
|------|------|
| **ë…ë¦½ ì‹¤í–‰** | DMSëŠ” GitLabì—ì„œ ë‹¨ë…ìœ¼ë¡œ cloneí•˜ì—¬ ì‹¤í–‰ ê°€ëŠ¥í•´ì•¼ í•¨ |
| **íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €** | DMSëŠ” **npm** ì‚¬ìš© (ëª¨ë…¸ë ˆí¬ëŠ” pnpmì´ì§€ë§Œ DMSëŠ” ë…ë¦½) |
| **ëª¨ë…¸ë ˆí¬ íŒ¨í‚¤ì§€ ê¸ˆì§€** | `@ssoo/types`, `@ssoo/database` ë“± workspace íŒ¨í‚¤ì§€ ì‚¬ìš© ê¸ˆì§€ |
| **ìì²´ ì™„ê²°** | íƒ€ì…, API, ìœ í‹¸ë¦¬í‹° ëª¨ë‘ DMS ë‚´ë¶€ì—ì„œ ì •ì˜ |
| **ì™¸ë¶€ í†µì‹ ** | í•„ìš”ì‹œ HTTP APIë¡œë§Œ í†µì‹  (í˜„ì¬ í•´ë‹¹ ì—†ìŒ) |

---

## ğŸ“Š í˜„ì¬ ì§„í–‰ ìƒí™©

| Phase | ì‘ì—… | ìƒíƒœ |
|-------|------|------|
| **0~2** | ê¸°ë°˜ êµ¬ì¡°, ìƒíƒœê´€ë¦¬, UI í†µí•© | âœ… ì™„ë£Œ ([ìƒì„¸](./package-integration-completed.md)) |
| **3** | PMS íŒ¨í„´ ë™ê¸°í™” | âœ… ì™„ë£Œ |
| **4** | API ë ˆì´ì–´ ì •ë¦¬ | âœ… **ì™„ë£Œ** |
| **5** | ë¼ìš°íŠ¸ ì •ë¦¬ | â¬œ ëŒ€ê¸° |
| **6** | ë””ìì¸ í†µì¼ (MUI ê²€í† ) | â¬œ ëŒ€ê¸° |

> ğŸ“ **ì¥ê¸° í†µí•© ë¶„ì„**: PMS-DMS íŒ¨í‚¤ì§€ ê³µìš©í™” ë¶„ì„ì€ [package-unification-analysis.md](./package-unification-analysis.md) ì°¸ì¡°

---

## Phase 3: PMS íŒ¨í„´ ë™ê¸°í™” (2~3ì¼) âœ… ì™„ë£Œ

> **ëª©ì **: DMSë¥¼ PMSì˜ `pageComponents` íŒ¨í„´ê³¼ ë™ê¸°í™”í•˜ì—¬ ì¼ê´€ì„± ë° í†µí•© ê¸°ë°˜ ë§ˆë ¨  
> **ì‹œì‘ì¼**: 2026-01-29  
> **ì™„ë£Œì¼**: 2026-01-29

### 3.1 í˜„ì¬ ìƒíƒœ ë¶„ì„

#### PMS vs DMS ì´ˆê¸°í™” íë¦„ ë¹„êµ

| ë‹¨ê³„ | PMS | DMS (í˜„ì¬) | ì°¨ì´ì  |
|------|-----|------------|--------|
| **Root Layout** | Providers (QueryClient) | í°íŠ¸ + Toasterë§Œ | âŒ Providers ì—†ìŒ |
| **Main Layout** | Auth ì²´í¬ â†’ ë¡œê·¸ì¸/AppLayout | AppLayout ì§ì ‘ ë Œë” | âŒ Auth ì—†ìŒ (í•„ìš”ì‹œ ì¶”ê°€) |
| **ë°ì´í„° ì´ˆê¸°í™”** | API â†’ refreshMenu() | Server Action â†’ refreshFileTree() | âœ… ì˜ë„ì  ì°¨ì´ |
| **ContentArea** | `pageComponents` lazy ë¡œë”© | ì¡°ê±´ë¶€ ë¶„ê¸° + children | âŒ ë™ì  ë¡œë”© ì—†ìŒ |
| **ì‚¬ì´ë“œë°” í´ë¦­** | openTab() ë§Œ | selectFile() + openTab() | âš ï¸ loadFile() ëˆ„ë½ |
| **í˜ì´ì§€ ë°ì´í„°** | í˜ì´ì§€ê°€ ìì²´ ë¡œë“œ | N/A (í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ì—†ìŒ) | âŒ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ í•„ìš” |

#### DMS í˜„ì¬ ë¬¸ì œì 

```
íŒŒì¼ í´ë¦­ ì‹œ (SidebarFileTree)
â”œâ”€ selectFile(node.path) âœ…
â”œâ”€ openTab({ path: '/wiki/...', ... }) âœ…
â””â”€ loadFile(node.path) âŒ í˜¸ì¶œ ëˆ„ë½!

âš ï¸ ê²°ê³¼: íƒ­ì€ ì—´ë¦¬ì§€ë§Œ íŒŒì¼ ë‚´ìš©ì´ ë¡œë“œë˜ì§€ ì•ŠìŒ
```

#### ëª©í‘œ íë¦„ (PMS íŒ¨í„´)

```
ContentArea (PMS íŒ¨í„´)
â”œâ”€ pageComponents ë§¤í•‘ ì¶”ê°€
â”‚     â”œâ”€ '/wiki': WikiHomePage (ëŒ€ì‹œë³´ë“œ)
â”‚     â”œâ”€ '/wiki/:path': WikiViewerPage (ë¬¸ì„œ ë·°ì–´)
â”‚     â””â”€ '/ai-search': AISearchPage
â””â”€ <Suspense><PageComponent /></Suspense>

SidebarFileTree (ê°„ì†Œí™”)
â””â”€ openTab() ë§Œ í˜¸ì¶œ
     â””â”€ WikiViewerPageê°€ ìì²´ì ìœ¼ë¡œ loadFile() í˜¸ì¶œ
```

### 3.2 í•„ìš”í•œ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ê²½ë¡œ íŒ¨í„´ | ì—­í•  | ìš°ì„ ìˆœìœ„ |
|----------|-----------|------|----------|
| `WikiHomePage` | `/wiki` (Home íƒ­) | ëŒ€ì‹œë³´ë“œ, ë¹ ë¥¸ ì•¡ì„¸ìŠ¤ | â­â­â­ |
| `WikiViewerPage` | `/wiki/:path` | ë¬¸ì„œ ì¡°íšŒ/í¸ì§‘ + loadFile ìë™ í˜¸ì¶œ | â­â­â­ |
| `AISearchPage` | `/ai-search` | AI ê²€ìƒ‰ ê²°ê³¼ | â­â­ |

### 3.3 íŒŒì¼ êµ¬ì¡° ê³„íš

```
src/components/
â”œâ”€â”€ pages/                          # ì‹ ê·œ ë””ë ‰í† ë¦¬
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ wiki/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ WikiHomePage.tsx
â”‚   â”‚   â””â”€â”€ WikiViewerPage.tsx
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ index.ts
â”‚       â””â”€â”€ AISearchPage.tsx
â”œâ”€â”€ layout/
â”‚   â””â”€â”€ ContentArea.tsx             # pageComponents íŒ¨í„´ ì ìš©
â””â”€â”€ editor/                         # ê¸°ì¡´ (ì¬ì‚¬ìš©)
```

### 3.4 ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

**Phase 3-A: í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ìƒì„±**
- [x] `components/pages/` ë””ë ‰í† ë¦¬ ìƒì„± âœ…
- [x] `WikiHomePage.tsx` ìƒì„± (Home íƒ­ UI ì´ë™) âœ…
- [x] `WikiViewerPage.tsx` ìƒì„± (í•µì‹¬: loadFile í˜¸ì¶œ) âœ…
- [x] `AISearchPage.tsx` ìƒì„± (AI ê²€ìƒ‰ UI ì´ë™) âœ…
- [x] ê° ë””ë ‰í† ë¦¬ `index.ts` ë°°ëŸ´ export âœ…

**Phase 3-B: ContentArea ë¦¬íŒ©í† ë§**
- [x] `pageComponents` ë§¤í•‘ ê°ì²´ ì¶”ê°€ (React.lazy) âœ…
- [x] Home íƒ­ â†’ WikiHomePage ì—°ê²° âœ…
- [x] AI ê²€ìƒ‰ â†’ AISearchPage ì—°ê²° âœ…
- [x] ë¬¸ì„œ íƒ­ â†’ WikiViewerPage ì—°ê²° âœ…
- [x] Suspense ë¡œë”© UI ì¶”ê°€ âœ…

**Phase 3-C: ì •ë¦¬ ë° í…ŒìŠ¤íŠ¸**
- [x] SidebarFileTreeì—ì„œ selectFile() ì œê±° âœ…
- [ ] ê¸°ì¡´ WikiApp.tsx, WikiSidebar.tsx ì°¸ì¡° ì •ë¦¬ (Phase 4ì—ì„œ)
- [x] ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸ âœ…

---

## Phase 4: API ë ˆì´ì–´ ì •ë¦¬ (1~2ì¼) âœ… ì™„ë£Œ

> **ëª©ì **: ì„œë¹„ìŠ¤ êµ¬ì¡° PMS ìŠ¤íƒ€ì¼ë¡œ í†µì¼ + API í´ë¼ì´ì–¸íŠ¸ êµ¬ì„±  
> **ì™„ë£Œì¼**: 2026-01-29

### ì™„ë£Œ ë‚´ìš©

**apiClient.ts í™•ì¥:**
- [x] `userApi` - ë¡œê·¸ì¸, ì‚¬ìš©ì ìƒì„±, í”„ë¡œí•„ ì—…ë°ì´íŠ¸
- [x] `searchApi` - ì‹œë§¨í‹± ê²€ìƒ‰, í…ìŠ¤íŠ¸ ê²€ìƒ‰, ì¸ë±ì‹±
- [x] `uploadApi` - íŒŒì¼ ì—…ë¡œë“œ
- [x] `aiApi` - AI ì§ˆì˜, Gemini ì±„íŒ…

**ì§ì ‘ fetch í˜¸ì¶œ ì œê±°:**
- [x] `user-store.ts` â†’ `userApi` ì‚¬ìš©
- [x] `SearchPanel.tsx` â†’ `searchApi` ì‚¬ìš©
- [x] `FileUpload.tsx` â†’ `uploadApi` ì‚¬ìš©
- [x] `AIChat.tsx`, `GeminiChat.tsx` â†’ `aiApi` ì‚¬ìš©
- [x] `AISearchPage.tsx` â†’ `searchApi`, `aiApi` ì‚¬ìš©
- [x] `TextSearch.tsx` â†’ `searchApi` ì‚¬ìš©

**ì¶”ê°€ ìˆ˜ì •:**
- [x] `AppLayout` - children prop ì œê±° (PMS íŒ¨í„´ ë™ê¸°í™”)
- [x] `MainSidebar` - `refreshFiles` â†’ `refreshFileTree` ìˆ˜ì •

---

## Phase 5: ë¼ìš°íŠ¸ ì •ë¦¬ (1~2ì¼) â¬œ ëŒ€ê¸°

> Route Group ë„ì…ìœ¼ë¡œ ë ˆì´ì•„ì›ƒ ë¶„ë¦¬

### ì‘ì—… ë‚´ìš©

- [ ] `src/app/(main)/` ê·¸ë£¹ í™•ì¥
- [ ] `src/app/(auth)/layout.tsx` - ì¸ì¦ ë ˆì´ì•„ì›ƒ (ë¯¸ë˜ í™•ì¥ìš©)
- [ ] `middleware.ts` ì—…ë°ì´íŠ¸ (ê²½ë¡œ ë³€ê²½ ë°˜ì˜)

---

## Phase 6: ë””ìì¸ í†µì¼ (ì¥ê¸°, ì ì§„ì )

> Radix UI ê¸°ë°˜ ì»´í¬ë„ŒíŠ¸ êµì²´ (MUI ê²€í† )

### ì‘ì—… ë‚´ìš©

- [ ] í•„ìš”í•œ Radix UI íŒ¨í‚¤ì§€ ì„ íƒ ì„¤ì¹˜
- [ ] `tailwindcss-animate` ì„¤ì¹˜
- [ ] MUI ì»´í¬ë„ŒíŠ¸ â†’ Radix/shadcn ìŠ¤íƒ€ì¼ë¡œ ì ì§„ì  êµì²´
- [ ] `@mui/x-tree-view` ìœ ì§€ ë˜ëŠ” ëŒ€ì²´ ê²€í† 

---

## DMS ì „ìš© íŒ¨í‚¤ì§€ (ìœ ì§€)

> DMS ë„ë©”ì¸ íŠ¹í™” íŒ¨í‚¤ì§€ - ì œê±°í•˜ì§€ ì•ŠìŒ

| íŒ¨í‚¤ì§€ | ìš©ë„ | ë¹„ê³  |
|--------|------|------|
| `@tiptap/*` (15ê°œ) | ë¦¬ì¹˜ í…ìŠ¤íŠ¸ ì—ë””í„° | DMS í•µì‹¬ |
| `@google/generative-ai` | Gemini AI | AI ê¸°ëŠ¥ |
| `@lancedb/lancedb` | ë²¡í„° DB | RAG ê²€ìƒ‰ |
| `@mui/x-tree-view` | íŠ¸ë¦¬ ë·° | íŒŒì¼ íƒìƒ‰ê¸° |
| `marked`, `react-markdown` | ë§ˆí¬ë‹¤ìš´ | ë¬¸ì„œ ë Œë”ë§ |
| `lowlight` | ì½”ë“œ í•˜ì´ë¼ì´íŒ… | ì—ë””í„° |
| `turndown` | HTMLâ†’MD ë³€í™˜ | ë§ˆí¬ë‹¤ìš´ |

---

## PMS ë„ì… í›„ë³´ (ì„ íƒì )

> í•„ìš”ì‹œ ë„ì… ê²€í† 

| ìš°ì„ ìˆœìœ„ | íŒ¨í‚¤ì§€ | ìš©ë„ | í˜„ì¬ |
|---------|--------|------|------|
| P2 | `@tanstack/react-query` | ì„œë²„ ìƒíƒœ | â¬œ Phase 4 |
| P2 | `axios` | HTTP í´ë¼ì´ì–¸íŠ¸ | â¬œ Phase 4 |
| P3 | `@tanstack/react-table` | ë°ì´í„° í…Œì´ë¸” | â¬œ í•„ìš”ì‹œ |
| P3 | `dayjs` | ë‚ ì§œ ì²˜ë¦¬ | â¬œ í•„ìš”ì‹œ |

---

## ì£¼ì˜ì‚¬í•­

### âŒ í•˜ì§€ ë§ì•„ì•¼ í•  ê²ƒ

| í•­ëª© | ì´ìœ  |
|------|------|
| `@ssoo/types` ì—°ë™ | DMS ëª¨ë…¸ë ˆí¬ ë…ë¦½ì„± ì›ì¹™ ìœ„ë°° |
| `@ssoo/database` ì—°ë™ | DMS ëª¨ë…¸ë ˆí¬ ë…ë¦½ì„± ì›ì¹™ ìœ„ë°° |
| `workspace:*` ì˜ì¡´ì„± | GitLab ë‹¨ë… ë°°í¬ ë¶ˆê°€ |

### âœ… í•´ì•¼ í•  ê²ƒ

| í•­ëª© | ì´ìœ  |
|------|------|
| DMS ìì²´ íƒ€ì… ì •ì˜ | `src/types/`ì—ì„œ ë…ë¦½ ê´€ë¦¬ |
| npm ê³µê°œ íŒ¨í‚¤ì§€ë§Œ ì‚¬ìš© | ì–´ë””ì„œë“  ì„¤ì¹˜ ê°€ëŠ¥ |
| `src/lib/api/`ë¡œ API í˜¸ì¶œ ì¶”ìƒí™” | í†µí•© ì‹œ URLë§Œ ë³€ê²½ |

---

## DMS ë…ë¦½ ì‹¤í–‰ ê°€ì´ë“œ

### íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €

| í”„ë¡œì íŠ¸ | íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € |
|----------|--------------|
| ëª¨ë…¸ë ˆí¬ (PMS, Server) | **pnpm** |
| **DMS** | **npm** |

### ì‹¤í–‰ ë°©ë²•

```bash
# 1. DMS í´ë”ë¡œ ì´ë™
cd apps/web/dms

# 2. ì˜ì¡´ì„± ì„¤ì¹˜ (npm ì‚¬ìš©)
npm install

# 3. ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev
# â†’ http://localhost:3000/wiki
```

### ëª¨ë…¸ë ˆí¬ ë‚´ ì‹¤í–‰ ì‹œ

```bash
# DMSë§Œ ì‹¤í–‰ (ëª¨ë…¸ë ˆí¬ ë£¨íŠ¸ì—ì„œ turbo ë¯¸ì ìš©)
cd apps/web/dms && npm run dev
```

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë‚´ìš© |
|------|------|
| 2026-01-29 | **íŒ¨í„´ í†µì¼** - Store íŒŒì¼ëª… (`*.store.ts`), types/tab.ts ë¶„ë¦¬ |
| 2026-01-29 | **Phase 4 ì™„ë£Œ** - API ë ˆì´ì–´ ì •ë¦¬ |
| 2026-01-29 | ë¬¸ì„œ ë¶„ë¦¬ - ì™„ë£Œ ë‚´ì—­ â†’ `package-integration-completed.md` |
| 2026-01-29 | **Phase 3 ì™„ë£Œ** - pageComponents íŒ¨í„´, WikiViewerPage, SidebarFileTree ë‹¨ìˆœí™” |
| 2026-01-29 | **Phase 3 ì‹œì‘** - PMS íŒ¨í„´ ë™ê¸°í™” |
| 2026-01-29 | Phase 2 ì™„ë£Œ - ë ˆì´ì•„ì›ƒ + ìŠ¤íƒ€ì¼ í†µí•© |

---

> ğŸ“Œ **ì™„ë£Œëœ Phase 0~2 ìƒì„¸ ë‚´ì—­**ì€ `package-integration-completed.md`ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
