# DMS Git Subtree í†µí•© ê°€ì´ë“œ

> ğŸ“… ì‘ì„±ì¼: 2026-01-27  
> ğŸ“Œ ìƒíƒœ: ì´ì›í™” ìš´ì˜ ë‹¨ê³„ (ì¶”í›„ ì™„ì „ í†µí•© ì‹œ ì•„ì¹´ì´ë¹™ ì˜ˆì •)

---

## 1. ê°œìš”

DMS(Document Management System)ëŠ” ë³„ë„ ê°œë°œ ì¡°ì§ì—ì„œ GitLabìœ¼ë¡œ ë…ë¦½ ê°œë°œë˜ë©°, í†µí•© ëª¨ë…¸ë ˆí¬(hwista-ssoo)ëŠ” GitHubë¡œ ê´€ë¦¬ëœë‹¤. Git Subtreeë¥¼ ì‚¬ìš©í•˜ì—¬ ë‘ ì €ì¥ì†Œë¥¼ ì—°ê²°í•˜ê³  ì´ì›í™” ìš´ì˜í•œë‹¤.

### 1.1 ì €ì¥ì†Œ ì •ë³´

| í•­ëª© | ê°’ |
|------|-----|
| **í†µí•© ëª¨ë…¸ë ˆí¬ (GitHub)** | `https://github.com/hwista/sooo.git` |
| **DMS ë ˆí¬ (GitLab)** | `http://10.125.31.72:8010/LSITC_WEB/LSWIKI.git` |
| **DMS ë¸Œëœì¹˜** | `main` (ì‹¤ì œ ì†ŒìŠ¤), `master` (PPT/ì´ë¯¸ì§€), `LSWIKI` (READMEë§Œ) |
| **ëª¨ë…¸ë ˆí¬ ë‚´ DMS ê²½ë¡œ** | `apps/web/dms/` |

### 1.2 ìš´ì˜ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì´ì›í™” Git ì „ëµ                           â”‚
â”‚                                                             â”‚
â”‚   GitLab (DMS ì •ë³¸)                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                          â”‚
â”‚   â”‚  DMS ë ˆí¬   â”‚ â†â”€â”€â”€â”€â”€ DMSíŒ€ push                        â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                          â”‚
â”‚          â”‚                                                  â”‚
â”‚          â”‚ â‘  pull (ì‘ì—… ì „ í•­ìƒ)                             â”‚
â”‚          â–¼                                                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚   â”‚         ë¡œì»¬ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ (ì¡°ìœ¨ì)         â”‚              â”‚
â”‚   â”‚  hwista-ssoo/apps/web/dms               â”‚              â”‚
â”‚   â”‚                                          â”‚              â”‚
â”‚   â”‚  - GitLab ìµœì‹  pull                      â”‚              â”‚
â”‚   â”‚  - ë””ìì¸ ì‹œìŠ¤í…œ/í†µí•© ì‘ì—…                 â”‚              â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚          â”‚              â”‚                                   â”‚
â”‚          â”‚ â‘¡ push       â”‚ â‘¢ push                           â”‚
â”‚          â–¼              â–¼                                   â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚   â”‚  GitHub   â”‚   â”‚  GitLab   â”‚                            â”‚
â”‚   â”‚  ëª¨ë…¸ë ˆí¬  â”‚   â”‚  DMS ë ˆí¬  â”‚                            â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ì´ˆê¸° ì„¤ì • (1íšŒ)

### 2.1 GitLab Remote ì¶”ê°€

```bash
# ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
cd C:\WorkSpace\dev\source\hwista-ssoo

# remote ì¶”ê°€
git remote add gitlab-dms http://10.125.31.72:8010/LSITC_WEB/LSWIKI.git

# í™•ì¸
git remote -v
# ê²°ê³¼:
# gitlab-dms  http://10.125.31.72:8010/LSITC_WEB/LSWIKI.git (fetch)
# gitlab-dms  http://10.125.31.72:8010/LSITC_WEB/LSWIKI.git (push)
# origin      https://github.com/hwista/sooo.git (fetch)
# origin      https://github.com/hwista/sooo.git (push)
```

### 2.2 Subtree ì¶”ê°€

```bash
# GitLab ë¸Œëœì¹˜ í™•ì¸
git fetch gitlab-dms
git branch -r | Select-String "gitlab-dms"

# DMS ì†ŒìŠ¤ ì¶”ê°€ (main ë¸Œëœì¹˜ ì‚¬ìš©)
git subtree add --prefix=apps/web/dms gitlab-dms main --squash
```

---

## 3. ì¼ìƒ ì‘ì—… ì›Œí¬í”Œë¡œìš°

### 3.1 ì‘ì—… ì „: GitLab ìµœì‹  pull

```bash
# ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰
cd C:\WorkSpace\dev\source\hwista-ssoo

# DMS ìµœì‹  ì†ŒìŠ¤ ê°€ì ¸ì˜¤ê¸°
git subtree pull --prefix=apps/web/dms gitlab-dms main --squash
```

### 3.2 ì‘ì—… ìˆ˜í–‰ & ì»¤ë°‹

```bash
# ë³€ê²½ì‚¬í•­ ì»¤ë°‹ (ì¼ë°˜ git ì‘ì—…)
git add -A
git commit -m "feat(dms): ë³€ê²½ ë‚´ìš©"
```

### 3.3 ì‘ì—… í›„: ì–‘ìª½ push

```bash
# GitHub push (ëª¨ë…¸ë ˆí¬)
git push origin main

# GitLab push (DMS ë ˆí¬)
git subtree push --prefix=apps/web/dms gitlab-dms main
```

---

## 4. DMS ë…ë¦½ì„± ìœ ì§€ ì›ì¹™

### 4.1 í•µì‹¬ ì›ì¹™

> âš ï¸ **DMSëŠ” ë³„ë„ ì¡°ì§ì—ì„œ ë…ë¦½ ê°œë°œë˜ë¯€ë¡œ, ssoo ëª¨ë…¸ë ˆí¬ í™˜ê²½ì˜ ì„¤ì •ì´ DMS ì½”ë“œì— ê°„ì„­í•˜ë©´ ì•ˆ ëœë‹¤.**

| êµ¬ë¶„ | í—ˆìš© | ê¸ˆì§€ |
|------|------|------|
| **ì„¤ì • íŒŒì¼ ìˆ˜ì •** | ì‹¤í–‰ ì‹œ í”Œë˜ê·¸ë¡œ í•´ê²° | `next.config.js`, `tsconfig.json` ì§ì ‘ ìˆ˜ì • |
| **ì˜ì¡´ì„±** | ë³„ë„ lockfile ìœ ì§€ ê°€ëŠ¥ | ëª¨ë…¸ë ˆí¬ íŒ¨í‚¤ì§€ ê°•ì œ ì ìš© |
| **ë¹Œë“œ ì„¤ì •** | í„°ë¯¸ë„ ëª…ë ¹ì–´ë¡œ ì¡°ì • | ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸ ì§ì ‘ ìˆ˜ì • |

### 4.2 í™˜ê²½ ì°¨ì´ ëŒ€ì‘

| ì´ìŠˆ | ì›ì¸ | í•´ê²° ë°©ë²• |
|------|------|----------|
| Turbopack vs Webpack | Next.js 16+ ê¸°ë³¸ê°’ ë³€ê²½ | `--webpack` í”Œë˜ê·¸ ì‚¬ìš© |
| í¬íŠ¸ ì¶©ëŒ | PMSê°€ 3000 ì‚¬ìš© | DMSëŠ” ìë™ìœ¼ë¡œ 3001 ì‚¬ìš© |
| lockfile ê²½ê³  | `package-lock.json` ì¤‘ë³µ | ê²½ê³  ë¬´ì‹œ (DMS ì›ë³¸ ìœ ì§€) |

---

## 5. DMS ë¹Œë“œ & ì‹¤í–‰

### 5.1 ê°œë°œ ëª¨ë“œ ì‹¤í–‰

```bash
# ë°©ë²• 1: pnpm filter (ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë£¨íŠ¸ì—ì„œ)
pnpm --filter markdown-wiki dev -- --webpack

# ë°©ë²• 2: ì§ì ‘ ì‹¤í–‰ (DMS í´ë”ì—ì„œ)
cd apps/web/dms
npx next dev --webpack

# ë°©ë²• 3: í¬íŠ¸ ì§€ì •
npx next dev --webpack -p 3001
```

### 5.2 ë¹Œë“œ

```bash
# pnpm filter
pnpm --filter markdown-wiki build

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
cd apps/web/dms
npx next build --webpack
```

### 5.3 ì „ì²´ ëª¨ë…¸ë ˆí¬ ì‹¤í–‰

```bash
# PMS + Server ë§Œ ì‹¤í–‰ (ê¶Œì¥)
pnpm dev

# DMSëŠ” ë³„ë„ í„°ë¯¸ë„ì—ì„œ
cd apps/web/dms
npx next dev --webpack -p 3001
```

---

## 6. í¬íŠ¸ êµ¬ì„±

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ë¹„ê³  |
|--------|------|------|
| **Server (NestJS)** | 4000 | API ì„œë²„ |
| **PMS (Next.js)** | 3000 | í”„ë¡œì íŠ¸ ê´€ë¦¬ |
| **DMS (Next.js)** | 3001 | ë¬¸ì„œ ê´€ë¦¬ |

---

## 7. ë¬¸ì œ í•´ê²°

### 7.1 spawn EPERM ì—ëŸ¬

```
Error: spawn EPERM
```

**ì›ì¸:** Windows ê¶Œí•œ/í”„ë¡œì„¸ìŠ¤ ì ê¸ˆ ë¬¸ì œ

**í•´ê²°:**
1. VS Code í„°ë¯¸ë„ ë‹«ê³  ìƒˆë¡œ ì—´ê¸°
2. ë˜ëŠ” PC ì¬ë¶€íŒ…
3. ë˜ëŠ” ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰

### 7.2 Turbopack ì—ëŸ¬

```
ERROR: This build is using Turbopack, with a `webpack` config and no `turbopack` config.
```

**í•´ê²°:** `--webpack` í”Œë˜ê·¸ ì‚¬ìš©
```bash
npx next dev --webpack
```

### 7.3 Subtree ì¶©ëŒ

```
fatal: prefix 'apps/web/dms' already exists.
```

**í•´ê²°:** í´ë” ì‚­ì œ í›„ ë‹¤ì‹œ ì¶”ê°€
```bash
git rm -rf apps/web/dms
git commit -m "chore: remove dms for re-add"
git subtree add --prefix=apps/web/dms gitlab-dms main --squash
```

---

## 8. í–¥í›„ ê³„íš

### 8.1 ì´ì›í™” ë‹¨ê³„ (í˜„ì¬)

- DMSíŒ€: GitLabì—ì„œ ë…ë¦½ ê°œë°œ
- ì¡°ìœ¨ì: GitHubì—ì„œ í†µí•© ê´€ì  ì‘ì—…
- ì£¼ê¸°ì  ë™ê¸°í™” (subtree pull/push)

### 8.2 ì™„ì „ í†µí•© ë‹¨ê³„ (ì¶”í›„)

- Git í†µí•©: GitLab â†’ GitHub ë§ˆì´ê·¸ë ˆì´ì…˜
- íŒ¨í‚¤ì§€ í†µí•©: `@ssoo/ui` ê³µìš© ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
- ë¹Œë“œ í†µí•©: Turborepo íŒŒì´í”„ë¼ì¸ í†µí•©
- ì´ ë¬¸ì„œ ì•„ì¹´ì´ë¹™: `docs/dms/_archive/`ë¡œ ì´ë™

---

## 9. ì°¸ê³  ë¬¸ì„œ

- [Git Subtree ê³µì‹ ë¬¸ì„œ](https://git-scm.com/book/en/v2/Git-Tools-Subtree-Merging)
- [Next.js Turbopack ì„¤ì •](https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack)
- [ëª¨ë…¸ë ˆí¬ êµ¬ì¡°](../../../README.md)
- [DMS ê¸°ìˆ  ìŠ¤íƒ](./tech-stack.md)

---

## ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë‚´ìš© |
|------|------|
| 2026-01-27 | ì´ˆê¸° ì‘ì„± - Git Subtree í†µí•© ì™„ë£Œ |
