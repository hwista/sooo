# DMS ì•± ì´ˆê¸°í™” íë¦„

> **ì‘ì„±ì¼**: 2026-01-29  
> **ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-02 (Phase 7 ì™„ë£Œ ë°˜ì˜)  
> **ëª©ì **: DMS ì•±ì˜ ì‹¤ì œ ì´ˆê¸°í™” íë¦„ ë¶„ì„ + PMS ë¹„êµ  
> **ìƒíƒœ**: âœ… Phase 7 ì™„ë£Œ, ë ˆê±°ì‹œ ì½”ë“œ ì •ë¦¬ë¨

---

## ğŸ“Š í˜„ì¬ DMS ì´ˆê¸°í™” íë¦„ (ì‹¤ì œ ì½”ë“œ ê¸°ì¤€)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Root Layout (app/layout.tsx)                                              â”‚
â”‚    â”œâ”€ 'use client' ì„ ì–¸                                                      â”‚
â”‚    â”œâ”€ í°íŠ¸ ì„¤ì •: Geist Sans/Mono (Google Fonts)                              â”‚
â”‚    â”œâ”€ lang="ko"                                                              â”‚
â”‚    â””â”€ <Toaster /> (sonner) - position="top-right"                            â”‚
â”‚         â””â”€ {children}                                                        â”‚
â”‚                                                                              â”‚
â”‚    ğŸ“Œ íŠ¹ì§•: Providers ì—†ìŒ (react-query ë¯¸ì‚¬ìš©)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. Main Layout (app/(main)/layout.tsx)                                       â”‚
â”‚    â”œâ”€ 'use client' ì„ ì–¸                                                      â”‚
â”‚    â”œâ”€ useLayoutStore: initializeDeviceType()                                 â”‚
â”‚    â”œâ”€ useFileStore: refreshFileTree() - Server Actionìœ¼ë¡œ íŒŒì¼ íŠ¸ë¦¬ ë¡œë“œ     â”‚
â”‚    â”œâ”€ window.resize ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ                                             â”‚
â”‚    â””â”€ return <AppLayout /> â† children ì „ë‹¬ ì•ˆí•¨!                             â”‚
â”‚                                                                              â”‚
â”‚    ğŸ“Œ íŠ¹ì§•: Auth ì²´í¬ ì—†ìŒ (DMSëŠ” ì¸ì¦ ë¯¸ì‚¬ìš©)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. AppLayout (components/layout/AppLayout.tsx)                               â”‚
â”‚    â”œâ”€ props ì—†ìŒ (children ë°›ì§€ ì•ŠìŒ)                                         â”‚
â”‚    â”œâ”€ useLayoutStore: deviceType                                             â”‚
â”‚    â”œâ”€ ì¡°ê±´ë¶€ ë Œë”ë§:                                                          â”‚
â”‚    â”‚     â”œâ”€ mobile â†’ "ëª¨ë°”ì¼ ë²„ì „ ì¤€ë¹„ ì¤‘" ë©”ì‹œì§€                             â”‚
â”‚    â”‚     â””â”€ else â†’ Desktop ë ˆì´ì•„ì›ƒ                                          â”‚
â”‚    â””â”€ Desktop êµ¬ì¡°:                                                          â”‚
â”‚         â”œâ”€ Sidebar (ê³ ì • ë„ˆë¹„ 240px, ì ‘ê¸° ì—†ìŒ)                               â”‚
â”‚         â””â”€ Main Area (marginLeft: 240px)                                     â”‚
â”‚              â”œâ”€ Header                                                       â”‚
â”‚              â”œâ”€ TabBar                                                       â”‚
â”‚              â””â”€ ContentArea                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. Sidebar (components/layout/sidebar/Sidebar.tsx)                           â”‚
â”‚    â”œâ”€ ë¡œê³  + ì œëª©                                                             â”‚
â”‚    â”œâ”€ Search (ê²€ìƒ‰)                                                           â”‚
â”‚    â”œâ”€ Bookmarks (ì±…ê°ˆí”¼)                                                      â”‚
â”‚    â”œâ”€ OpenTabs (ì—´ë¦° íƒ­)                                                      â”‚
â”‚    â””â”€ FileTree (íŒŒì¼ íŠ¸ë¦¬)                                                    â”‚
â”‚                                                                              â”‚
â”‚    ğŸ“Œ íŠ¹ì§•: í•­ìƒ í¼ì¹¨ ìƒíƒœ, ì ‘ê¸°/í”Œë¡œíŒ… ì—†ìŒ                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. ContentArea (components/layout/ContentArea.tsx)                           â”‚
â”‚    â”œâ”€ useTabStore: activeTabId, tabs                                         â”‚
â”‚    â”œâ”€ pageComponents ë§¤í•‘ (React.lazy):                                      â”‚
â”‚    â”‚     â”œâ”€ 'home': HomeDashboardPage                                        â”‚
â”‚    â”‚     â””â”€ 'markdown': MarkdownViewerPage                                   â”‚
â”‚    â”œâ”€ getPageType() í•¨ìˆ˜ë¡œ íƒ­ ê²½ë¡œ â†’ í˜ì´ì§€ íƒ€ì… ë§¤í•‘                         â”‚
â”‚    â””â”€ <Suspense fallback={LoadingFallback}><PageComponent /></Suspense>      â”‚
â”‚                                                                              â”‚
â”‚    ğŸ“Œ íŠ¹ì§•: children ì—†ìŒ, pageComponentsë¡œë§Œ ë Œë”ë§                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6. íŒŒì¼ í´ë¦­ ì‹œ (FileTree)                                                    â”‚
â”‚    â”œâ”€ openTab({ path: '/doc/{encodedPath}', ... })                           â”‚
â”‚    â”‚         â”‚                                                               â”‚
â”‚    â”‚         â–¼                                                               â”‚
â”‚    â””â”€ WikiViewerPage (ìì²´ ë¡œë”©):                                            â”‚
â”‚         â”œâ”€ activeTab.pathì—ì„œ filePath ì¶”ì¶œ (/doc/ ì œê±° + decodeURIComponent)â”‚
â”‚         â”œâ”€ useEffect: loadFile(filePath) ìë™ í˜¸ì¶œ                           â”‚
â”‚         â””â”€ WikiEditor ì»´í¬ë„ŒíŠ¸ ë Œë”ë§                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 7. Middleware (middleware.ts)                                                 â”‚
â”‚    â”œâ”€ í—ˆìš© ê²½ë¡œ: ['/'] ë§Œ                                                     â”‚
â”‚    â”œâ”€ ì œì™¸: api, _next, ì •ì  íŒŒì¼, favicon.ico                               â”‚
â”‚    â””â”€ ê·¸ ì™¸ ëª¨ë“  ê²½ë¡œ â†’ '/' ë¦¬ë‹¤ì´ë ‰íŠ¸                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” PMS vs DMS ìƒì„¸ ë¹„êµ

### 1. Root Layout ë¹„êµ

| í•­ëª© | PMS | DMS | ì°¨ì´ì  |
|------|-----|-----|--------|
| **'use client'** | âŒ ì—†ìŒ (ì„œë²„ ì»´í¬ë„ŒíŠ¸) | âœ… ìˆìŒ (í´ë¼ì´ì–¸íŠ¸) | ğŸ”´ DMSê°€ í´ë¼ì´ì–¸íŠ¸ |
| **Providers** | `<Providers>` ë˜í•‘ | âŒ ì—†ìŒ | ğŸ”´ DMSì— ì—†ìŒ |
| **í°íŠ¸** | âŒ ì—†ìŒ | Geist Sans/Mono | ğŸŸ¡ DMSë§Œ |
| **Toaster** | âŒ ì—†ìŒ | sonner | ğŸŸ¡ DMSë§Œ |
| **metadata** | âœ… export metadata | âŒ ì—†ìŒ | ğŸ”´ DMSì— ì—†ìŒ |
| **lang** | "ko" | "ko" | âœ… ë™ì¼ |

```tsx
// PMS - ì„œë²„ ì»´í¬ë„ŒíŠ¸
export const metadata: Metadata = { title: 'SSOO - ì—…ë¬´ í—ˆë¸Œ', ... };
export default function RootLayout({ children }) {
  return <html lang="ko"><body><Providers>{children}</Providers></body></html>;
}

// DMS - í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸
'use client';
export default function RootLayout({ children }) {
  return <html lang="ko"><body>{children}<Toaster /></body></html>;
}
```

### 2. Main Layout ë¹„êµ

| í•­ëª© | PMS | DMS | ì°¨ì´ì  |
|------|-----|-----|--------|
| **ì¸ì¦ ì²´í¬** | âœ… checkAuth() â†’ ë¡œê·¸ì¸ í¼ | âŒ ì—†ìŒ | ğŸ”´ ì˜ë„ì  ì°¨ì´ |
| **ë¡œë”© ìƒíƒœ** | ì¸ì¦ í™•ì¸ ì¤‘ ìŠ¤í”¼ë„ˆ | âŒ ì—†ìŒ | ğŸ”´ ì˜ë„ì  ì°¨ì´ |
| **ë°ì´í„° ì´ˆê¸°í™”** | refreshMenu() | refreshFileTree() | âœ… íŒ¨í„´ ë™ì¼ |
| **children ì „ë‹¬** | `<AppLayout>{children}</AppLayout>` | `<AppLayout />` | ğŸŸ¡ DMSê°€ ë‹¤ë¦„ |

```tsx
// PMS - ì¸ì¦ ì²´í¬ í›„ AppLayout
if (isChecking || authLoading) return <Loading />;
if (!isAuthenticated) return <LoginForm />;
return <AppLayout>{children}</AppLayout>;

// DMS - ë°”ë¡œ AppLayout (ì¸ì¦ ì—†ìŒ)
useEffect(() => { initializeDeviceType(); refreshFileTree(); }, []);
return <AppLayout />;  // children ì „ë‹¬ ì•ˆí•¨!
```

### 3. AppLayout ë¹„êµ

| í•­ëª© | PMS | DMS | ì°¨ì´ì  |
|------|-----|-----|--------|
| **children prop** | âœ… ë°›ìŒ | âŒ ì•ˆ ë°›ìŒ | ğŸŸ¡ DMSê°€ ë‹¤ë¦„ |
| **ì‚¬ì´ë“œë°” ì ‘ê¸°** | âœ… isCollapsed ì§€ì› | âŒ í•­ìƒ í¼ì¹¨ | ğŸ”´ ê¸°ëŠ¥ ì°¨ì´ |
| **ì‚¬ì´ë“œë°” ë„ˆë¹„** | collapsedWidth / expandedWidth | ê³ ì • 240px | ğŸ”´ ê¸°ëŠ¥ ì°¨ì´ |
| **useSidebarStore** | âœ… ì‚¬ìš© | âŒ ì—†ìŒ | ğŸ”´ êµ¬ì¡° ì°¨ì´ |

```tsx
// PMS
const { isCollapsed } = useSidebarStore();
const sidebarWidth = isCollapsed ? LAYOUT_SIZES.sidebar.collapsedWidth : expandedWidth;
return <div><MainSidebar /><div style={{ marginLeft: sidebarWidth }}><ContentArea>{children}</ContentArea></div></div>;

// DMS
return <div><MainSidebar /><div style={{ marginLeft: LAYOUT_SIZES.sidebar.expandedWidth }}><ContentArea /></div></div>;
```

### 4. ContentArea ë¹„êµ

| í•­ëª© | PMS | DMS | ì°¨ì´ì  |
|------|-----|-----|--------|
| **children prop** | âœ… ë°›ìŒ (fallbackìš©) | âŒ ì•ˆ ë°›ìŒ | ğŸŸ¡ íŒ¨í„´ ì°¨ì´ |
| **pageComponents** | path í‚¤ (`'/home'`, `'/request'`) | íƒ€ì… í‚¤ (`'home'`, `'wiki'`) | ğŸŸ¡ í‚¤ ë°©ì‹ ì°¨ì´ |
| **ë§¤í•‘ ë°©ì‹** | `pageComponents[activeTab.path]` | `getPageType()` â†’ `pageComponents[type]` | ğŸŸ¡ êµ¬í˜„ ì°¨ì´ |
| **Suspense** | âœ… ì‚¬ìš© | âœ… ì‚¬ìš© | âœ… ë™ì¼ |

```tsx
// PMS - path ì§ì ‘ ë§¤í•‘
const pageComponents = { '/home': lazy(...), '/request': lazy(...) };
const PageComponent = pageComponents[activeTab.path];

// DMS - íƒ€ì… ì¶”ì¶œ í›„ ë§¤í•‘
const pageComponents = { home: lazy(...), wiki: lazy(...) };
const pageType = getPageType(activeTab);  // '/doc/...' â†’ 'wiki'
const PageComponent = pageComponents[pageType];
```

### 5. ì‚¬ì´ë“œë°” í´ë¦­ íë¦„ ë¹„êµ

| í•­ëª© | PMS | DMS | ì°¨ì´ì  |
|------|-----|-----|--------|
| **í´ë¦­ í•¸ë“¤ëŸ¬** | openTab() í˜¸ì¶œ | openTab() í˜¸ì¶œ | âœ… ë™ì¼ |
| **íƒ­ ê²½ë¡œ** | `path: '/request'` | `path: '/doc/{encodedPath}'` | ğŸŸ¡ ê²½ë¡œ í˜•ì‹ |
| **ë°ì´í„° ë¡œë”©** | í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì—ì„œ | WikiViewerPageì—ì„œ | âœ… íŒ¨í„´ ë™ì¼ |

```tsx
// PMS - SidebarMenuTree
openTab({ menuCode: 'REQUEST', title: 'ìš”ì²­ ê´€ë¦¬', path: '/request', ... });

// DMS - SidebarFileTree
openTab({ id: `file-${path}`, title: node.name, path: `/doc/${encodeURIComponent(path)}`, ... });
```

### 6. Store êµ¬ì¡° ë¹„êµ

| Store | PMS | DMS | ë¹„ê³  |
|-------|-----|-----|------|
| **Tab Store** | menuCode, menuId, status, params | id, path, ì±…ê°ˆí”¼ ê¸°ëŠ¥ | ğŸŸ¡ êµ¬ì¡° ë‹¤ë¦„ |
| **Layout Store** | deviceType | deviceType + expandedFolders | ğŸŸ¡ DMSê°€ ë” ë§ìŒ |
| **Sidebar Store** | âœ… ë³„ë„ ì¡´ì¬ | âŒ ì—†ìŒ (Layoutì— í†µí•©) | ğŸ”´ êµ¬ì¡° ì°¨ì´ |
| **Auth Store** | âœ… JWT ì¸ì¦ | âŒ ì—†ìŒ | ğŸ”´ ì˜ë„ì  ì°¨ì´ |
| **Menu/Tree Store** | menuStore | treeStore | ğŸŸ¡ ë„ë©”ì¸ íŠ¹í™” |
| **Wiki ê´€ë ¨** | âŒ ì—†ìŒ | wiki-editor, wiki-ui, wiki-items | ğŸŸ¡ DMS ì „ìš© |

---

## ğŸ“ í˜„ì¬ íŒŒì¼ êµ¬ì¡°

### DMS êµ¬ì¡° (ì‹¤ì œ - 2026-02-02 ê¸°ì¤€)
```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx           â† 'use client', í°íŠ¸, Toaster
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ api/                 â† API Routes
â”‚   â””â”€â”€ (main)/
â”‚       â””â”€â”€ layout.tsx       â† DeviceType + FileTree ì´ˆê¸°í™”, <AppLayout />
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ AppLayout.tsx    â† children ì—†ìŒ
â”‚   â”‚   â”œâ”€â”€ ContentArea.tsx  â† pageComponents íŒ¨í„´
â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚   â”‚   â”œâ”€â”€ TabBar.tsx
â”‚   â”‚   â””â”€â”€ sidebar/         â† ì‚¬ì´ë“œë°” ì»´í¬ë„ŒíŠ¸ë“¤
â”‚   â”‚       â”œâ”€â”€ Sidebar.tsx      â† ë©”ì¸ ì‚¬ì´ë“œë°” (í•­ìƒ í¼ì¹¨)
â”‚   â”‚       â”œâ”€â”€ Search.tsx       â† ê²€ìƒ‰
â”‚   â”‚       â”œâ”€â”€ Bookmarks.tsx    â† ì±…ê°ˆí”¼
â”‚   â”‚       â”œâ”€â”€ OpenTabs.tsx     â† ì—´ë¦° íƒ­
â”‚   â”‚       â”œâ”€â”€ FileTree.tsx     â† íŒŒì¼ íŠ¸ë¦¬ (openTabë§Œ í˜¸ì¶œ)
â”‚   â”‚       â”œâ”€â”€ Section.tsx      â† ê³µí†µ ì„¹ì…˜ ë˜í¼
â”‚   â”‚       â””â”€â”€ constants.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ wiki/
â”‚   â”‚   â”‚   â”œâ”€â”€ WikiHomePage.tsx     â† í™ˆ ëŒ€ì‹œë³´ë“œ
â”‚   â”‚   â”‚   â””â”€â”€ WikiViewerPage.tsx   â† loadFile ìë™ í˜¸ì¶œ
â”‚   â”‚   â””â”€â”€ ai/
â”‚   â”‚       â””â”€â”€ AISearchPage.tsx
â”‚   â”‚
â”‚   â”œâ”€â”€ common/              â† ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ templates/           â† í˜ì´ì§€ í…œí”Œë¦¿
â”‚   â”œâ”€â”€ ui/                  â† shadcn/ui ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ stores/                  â† 7ê°œ Store
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ confirm.store.ts     â† í™•ì¸ ëª¨ë‹¬
â”‚   â”œâ”€â”€ editor.store.ts      â† ì—ë””í„° ìƒíƒœ
â”‚   â”œâ”€â”€ file.store.ts        â† íŒŒì¼ íŠ¸ë¦¬
â”‚   â”œâ”€â”€ layout.store.ts      â† ë ˆì´ì•„ì›ƒ/ë””ë°”ì´ìŠ¤
â”‚   â”œâ”€â”€ sidebar.store.ts     â† ì‚¬ì´ë“œë°” UI ìƒíƒœ
â”‚   â””â”€â”€ tab.store.ts         â† íƒ­ + ì±…ê°ˆí”¼
â”‚
â”œâ”€â”€ hooks/                   â† 2ê°œ Hook
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ useEditor.ts
â”‚   â””â”€â”€ useOpenTabWithConfirm.ts
â”‚
â”œâ”€â”€ middleware.ts            â† '/' ì™¸ ëª¨ë“  ê²½ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ apiClient.ts
â””â”€â”€ types/
```

### PMS êµ¬ì¡° (ë¹„êµìš©)
```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ layout.tsx           â† ì„œë²„ ì»´í¬ë„ŒíŠ¸, Providers
â”‚   â”œâ”€â”€ providers.tsx        â† QueryClientProvider ë“±
â”‚   â”œâ”€â”€ not-found.tsx
â”‚   â”œâ”€â”€ (auth)/              â† ì¸ì¦ ë¼ìš°íŠ¸
â”‚   â””â”€â”€ (main)/
â”‚       â””â”€â”€ layout.tsx       â† Auth ì²´í¬ + ë¡œê·¸ì¸ í¼
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ layout/              â† ì •ë¦¬ëœ êµ¬ì¡°
â”‚   â”œâ”€â”€ pages/               â† ë„ë©”ì¸ë³„ í˜ì´ì§€
â”‚   â”œâ”€â”€ common/              â† ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ templates/           â† í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸
â”‚   â””â”€â”€ ui/
â”‚
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ index.ts
â”‚   â”œâ”€â”€ auth.store.ts        â† DMSì— ì—†ìŒ
â”‚   â”œâ”€â”€ sidebar.store.ts     â† DMSì— ì—†ìŒ
â”‚   â”œâ”€â”€ menu.store.ts
â”‚   â”œâ”€â”€ tab.store.ts
â”‚   â””â”€â”€ layout.store.ts
â”‚
â””â”€â”€ middleware.ts
```

---

## ğŸ¯ í•µì‹¬ íë¦„ ë‹¤ì´ì–´ê·¸ë¨

### PMS íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   Root Layout          Main Layout              AppLayout       ContentArea  â”‚
â”‚   (Providers)          (Auth ì²´í¬)              (children)      (children)   â”‚
â”‚       â”‚                    â”‚                        â”‚               â”‚        â”‚
â”‚       â”‚                    â–¼                        â”‚               â”‚        â”‚
â”‚       â”‚              [ì¸ì¦ í™•ì¸]                    â”‚               â”‚        â”‚
â”‚       â”‚                    â”‚                        â”‚               â”‚        â”‚
â”‚       â”‚              ë¯¸ì¸ì¦? â”€â”€â–º ë¡œê·¸ì¸ í¼          â”‚               â”‚        â”‚
â”‚       â”‚                    â”‚                        â”‚               â”‚        â”‚
â”‚       â”‚              ì¸ì¦ë¨ â”€â”€â–º refreshMenu()       â”‚               â”‚        â”‚
â”‚       â”‚                    â”‚                        â”‚               â”‚        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚        â”‚
â”‚                                                                      â”‚        â”‚
â”‚   SidebarMenuTree                                     pageComponents[path]   â”‚
â”‚        â”‚                                                     â”‚               â”‚
â”‚        â”‚ openTab({ path: '/request' })                       â–¼               â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º RequestListPage       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### DMS íë¦„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   Root Layout          Main Layout              AppLayout       ContentArea  â”‚
â”‚   (Toaster)            (ì´ˆê¸°í™”)                 (props ì—†ìŒ)    (props ì—†ìŒ) â”‚
â”‚       â”‚                    â”‚                        â”‚               â”‚        â”‚
â”‚       â”‚                    â–¼                        â”‚               â”‚        â”‚
â”‚       â”‚          initializeDeviceType()             â”‚               â”‚        â”‚
â”‚       â”‚          refreshFileTree()                  â”‚               â”‚        â”‚
â”‚       â”‚                    â”‚                        â”‚               â”‚        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚        â”‚
â”‚                                                                      â”‚        â”‚
â”‚   FileTree (sidebar/)                           getPageType() â”€â”€â–º pageComponents â”‚
â”‚        â”‚                                                     â”‚               â”‚
â”‚        â”‚ openTab({ path: '/doc/...' })                       â–¼               â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º WikiViewerPage        â”‚
â”‚                                                              â”‚               â”‚
â”‚                                                        loadFile(path)        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ì˜ ì •ë ¬ëœ í•­ëª© (PMS íŒ¨í„´ ì¼ì¹˜)

| ì˜ì—­ | ìƒíƒœ | ì„¤ëª… |
|------|------|------|
| **pageComponents íŒ¨í„´** | âœ… | React.lazy + Suspenseë¡œ ë™ì  ë¡œë”© |
| **ì‚¬ì´ë“œë°” í´ë¦­ â†’ openTab()ë§Œ** | âœ… | í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ê°€ ë°ì´í„° ë¡œë“œ |
| **WikiViewerPage ìì²´ ë¡œë”©** | âœ… | path ì¶”ì¶œ â†’ loadFile() ìë™ í˜¸ì¶œ |
| **TabBar êµ¬ì¡°** | âœ… | íƒ­ ê´€ë¦¬ íŒ¨í„´ ìœ ì‚¬ |
| **Header êµ¬ì¡°** | âœ… | ê¸°ë³¸ êµ¬ì¡° ìœ ì‚¬ |
| **middleware.ts** | âœ… | ì¡´ì¬ (ê²½ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸) |
| **lang="ko"** | âœ… | ë™ì¼ |

---

## ğŸŸ¡ ì˜ë„ì  ì°¨ì´ (ìœ ì§€)

| ì˜ì—­ | PMS | DMS | ì´ìœ  |
|------|-----|-----|------|
| **ì¸ì¦** | JWT ê¸°ë°˜ | ì—†ìŒ | DMSëŠ” ë¡œì»¬/ë‚´ë¶€ìš© |
| **ë°ì´í„° ë¡œë“œ** | API í˜¸ì¶œ | Server Action | DMSëŠ” ë¡œì»¬ íŒŒì¼ ì‹œìŠ¤í…œ |
| **ì‚¬ì´ë“œë°” ì ‘ê¸°** | ì§€ì› | ë¯¸ì§€ì› | DMSëŠ” í•­ìƒ íŒŒì¼ íŠ¸ë¦¬ ë…¸ì¶œ |
| **Providers** | QueryClientProvider | ì—†ìŒ | react-query ë¯¸ì‚¬ìš© |

---

## ğŸ”´ ê°œì„  í•„ìš” í•­ëª© (Phase 7~8)

| ì˜ì—­ | í˜„ì¬ ìƒíƒœ | ê°œì„  ë°©í–¥ | Phase |
|------|----------|----------|-------|
| **Root Layout 'use client'** | í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ | ì„œë²„ ì»´í¬ë„ŒíŠ¸ë¡œ ë³€ê²½ ê²€í†  | 8 |
| **metadata export** | ì—†ìŒ | SEOë¥¼ ìœ„í•´ ì¶”ê°€ ê²€í†  | 8 |
| **WikiEditor.tsx** | ë£¨íŠ¸ì— ë‚¨ìŒ | editor/ë¡œ ì´ë™ | 7 |
| **ë¬¸ì„œ í…œí”Œë¦¿** | ì—†ìŒ | DocumentViewerTemplate ì‹ ê·œ ê°œë°œ | 7 |
| **MUI ì˜ì¡´ì„±** | ì¼ë¶€ ì‚¬ìš© | ì œê±°/ëŒ€ì²´ ê²€í†  | 8 |
| **react-query** | ë¯¸ì‚¬ìš© | ë„ì… ê²€í†  | 8 |

---

## âœ… ì™„ë£Œëœ ì‘ì—… (Phase 6)

| í•­ëª© | ì„¤ëª… | ìƒíƒœ |
|------|------|------|
| ë£¨íŠ¸ ë ˆë²¨ 16ê°œ ì»´í¬ë„ŒíŠ¸ | WikiApp, WikiSidebar ë“± ì‚­ì œ | âœ… ì™„ë£Œ |
| ë¯¸ì‚¬ìš© Hooks 8ê°œ | useContextMenu, useTreeData ë“± ì‚­ì œ | âœ… ì™„ë£Œ |
| ë ˆê±°ì‹œ Stores 5ê°œ | gemini, theme, wiki-ui ë“± ì‚­ì œ | âœ… ì™„ë£Œ |
| ë¯¸ì‚¬ìš© Utils 2ê°œ | markdownUtils, performanceUtils ì‚­ì œ | âœ… ì™„ë£Œ |
| wiki/ í´ë” | ContextMenu.tsx í¬í•¨ ì‚­ì œ | âœ… ì™„ë£Œ |
| index.ts ì •ë¦¬ | hooks, stores export ì •ë¦¬ | âœ… ì™„ë£Œ |
| ë¹Œë“œ ê²€ì¦ | npm run build ì„±ê³µ | âœ… ì™„ë£Œ |

---

## â­ï¸ ë‚¨ì€ ì‘ì—… (Phase 7~8)

### Phase 7: ë¬¸ì„œ ì‹œìŠ¤í…œ í…œí”Œë¦¿ ì¬ì„¤ê³„ (ì§„í–‰ì¤‘)
| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| 7-1 | DocumentViewerTemplate ì„¤ê³„ | P1 |
| 7-2 | common/ ì»´í¬ë„ŒíŠ¸ (Breadcrumb, PageHeader, Sidecar) | P1 |
| 7-3 | WikiViewerPage í…œí”Œë¦¿ ë§ˆì´ê·¸ë ˆì´ì…˜ | P1 |
| 7-4 | DocumentEditorTemplate ì„¤ê³„ | P2 |
| 7-5 | WikiEditor.tsx â†’ editor/ ì´ë™ | P2 |
| 7-6 | ìƒˆ ë¬¸ì„œ ìƒì„± ê¸°ëŠ¥ êµ¬í˜„ | P2 |
| 7-7 | íŒŒì¼ ì‚­ì œ/ì´ë¦„ ë³€ê²½ (ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´) | P2 |

### Phase 8: ë””ìì¸ í†µì¼ (ì¥ê¸°)
| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| 8-1 | React Query ë„ì… ê²€í†  | P3 |
| 8-2 | axios ë„ì… ê²€í†  | P3 |
| 8-3 | MUI ì œê±°/ëŒ€ì²´ ê²€í†  | P3 |
| 8-4 | Root Layout ì„œë²„ ì»´í¬ë„ŒíŠ¸ ì „í™˜ | P3 |

â†’ ìƒì„¸ ê³„íš: [package-integration-plan.md](./package-integration-plan.md)

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- [PMS ì•± ì´ˆê¸°í™” íë¦„](../../pms/explanation/architecture/app-initialization-flow.md) - ì°¸ì¡° íŒ¨í„´
- [í†µí•© ë¦¬íŒ©í„°ë§ ê³„íšì„œ](./package-integration-plan.md) - Phase 6~7 ìƒì„¸
- [ì™„ë£Œ ë‚´ì—­ ì•„ì¹´ì´ë¸Œ](./package-integration-completed.md) - Phase 0~5
- [PMS-DMS ë¹„êµ ë¶„ì„](./pms-dms-comparison-analysis.md) - 4ê´€ì  ë¹„êµ
- [íŒ¨í‚¤ì§€ ê³µìš©í™” ë¶„ì„](./package-unification-analysis.md) - ì¥ê¸° ê³µìš©í™” ê³„íš

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë‚ ì§œ | ë‚´ìš© |
|------|------|
| 2026-01-29 | ì´ˆì•ˆ ì‘ì„± - ê³„íš ê¸°ë°˜ |
| 2026-01-29 | Phase 3~5 ì™„ë£Œ ë°˜ì˜ |
| 2026-01-29 | **ì‹¤ì œ ì½”ë“œ ê¸°ë°˜ ì „ë©´ ì¬ì‘ì„±** - DMS/PMS ìƒì„¸ ë¹„êµ |
| 2026-01-29 | **Phase 6 ì™„ë£Œ ë°˜ì˜** - ë ˆê±°ì‹œ ì½”ë“œ ì •ë¦¬, íŒŒì¼ êµ¬ì¡° ì—…ë°ì´íŠ¸ |
