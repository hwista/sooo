# 기능 동작 체크리스트

> 최종 업데이트: 2026-01-20  
> 목적: 리팩터링 전후 기능 동일성 검증

---

## 🎯 사용 방법

1. 리팩터링 **전**: 각 기능 동작 확인 후 `[x]` 체크
2. 리팩터링 **후**: 동일하게 동작하는지 재확인
3. 차이 발생 시: 즉시 롤백 및 원인 분석

---

## 📋 기능 체크리스트

### 1. 인증 (Authentication)

#### 1.1 로그인
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 1.1.1 | 로그인 페이지 렌더링 | 🔲 | 🔲 | `/login` |
| 1.1.2 | 아이디/비밀번호 입력 | 🔲 | 🔲 | |
| 1.1.3 | 로그인 버튼 클릭 → API 호출 | 🔲 | 🔲 | `POST /api/auth/login` |
| 1.1.4 | 로그인 성공 → 메인 페이지 이동 | 🔲 | 🔲 | |
| 1.1.5 | 로그인 실패 → 에러 메시지 표시 | 🔲 | 🔲 | |
| 1.1.6 | 토큰 저장 (accessToken, refreshToken) | 🔲 | 🔲 | |

#### 1.2 로그아웃
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 1.2.1 | 로그아웃 버튼 클릭 | 🔲 | 🔲 | |
| 1.2.2 | 토큰 삭제 | 🔲 | 🔲 | |
| 1.2.3 | 로그인 페이지로 리다이렉트 | 🔲 | 🔲 | |

#### 1.3 토큰 갱신
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 1.3.1 | 토큰 만료 시 자동 갱신 | 🔲 | 🔲 | |
| 1.3.2 | 갱신 실패 시 로그인 페이지 이동 | 🔲 | 🔲 | |

#### 1.4 인증 보호
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 1.4.1 | 미인증 시 로그인 페이지 리다이렉트 | 🔲 | 🔲 | middleware |
| 1.4.2 | 인증된 사용자만 메인 접근 | 🔲 | 🔲 | |

---

### 2. 레이아웃 (Layout)

#### 2.1 메인 레이아웃
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 2.1.1 | 헤더 렌더링 | 🔲 | 🔲 | |
| 2.1.2 | 사이드바 렌더링 | 🔲 | 🔲 | |
| 2.1.3 | 컨텐츠 영역 렌더링 | 🔲 | 🔲 | |

#### 2.2 사이드바
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 2.2.1 | 사이드바 토글 (열기/닫기) | 🔲 | 🔲 | |
| 2.2.2 | 사이드바 상태 유지 | 🔲 | 🔲 | zustand |
| 2.2.3 | 반응형 동작 | 🔲 | 🔲 | |

#### 2.3 탭 시스템
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 2.3.1 | 탭 추가 | 🔲 | 🔲 | |
| 2.3.2 | 탭 닫기 | 🔲 | 🔲 | |
| 2.3.3 | 탭 전환 | 🔲 | 🔲 | |
| 2.3.4 | 탭 상태 유지 | 🔲 | 🔲 | |

---

### 3. 메뉴 (Menu)

#### 3.1 메뉴 로딩
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 3.1.1 | 로그인 후 메뉴 API 호출 | 🔲 | 🔲 | `GET /api/menus` |
| 3.1.2 | 메뉴 데이터 로딩 | 🔲 | 🔲 | |
| 3.1.3 | 사이드바에 메뉴 표시 | 🔲 | 🔲 | |

#### 3.2 메뉴 네비게이션
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 3.2.1 | 메뉴 클릭 → 해당 페이지 이동 | 🔲 | 🔲 | |
| 3.2.2 | 현재 메뉴 하이라이트 | 🔲 | 🔲 | |
| 3.2.3 | 서브메뉴 펼침/접힘 | 🔲 | 🔲 | |

#### 3.3 권한 기반 메뉴
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 3.3.1 | 사용자 권한에 따른 메뉴 필터링 | 🔲 | 🔲 | |

---

### 4. 페이지 (Pages)

#### 4.1 대시보드
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 4.1.1 | 대시보드 페이지 렌더링 | 🔲 | 🔲 | `/` |

#### 4.2 요청 관리 (Request)
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 4.2.1 | 고객요청 생성 페이지 렌더링 | 🔲 | 🔲 | |
| 4.2.2 | 폼 입력 및 유효성 검사 | 🔲 | 🔲 | |
| 4.2.3 | 저장 버튼 동작 | 🔲 | 🔲 | |

---

### 5. API 통신

#### 5.1 API 클라이언트
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 5.1.1 | Axios 인스턴스 생성 | 🔲 | 🔲 | |
| 5.1.2 | 요청 인터셉터 (토큰 추가) | 🔲 | 🔲 | |
| 5.1.3 | 응답 인터셉터 (에러 처리) | 🔲 | 🔲 | |
| 5.1.4 | 토큰 만료 시 자동 갱신 | 🔲 | 🔲 | |

#### 5.2 TanStack Query
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 5.2.1 | useMenus 훅 동작 | 🔲 | 🔲 | |
| 5.2.2 | useProjects 훅 동작 | 🔲 | 🔲 | |
| 5.2.3 | 캐싱 동작 | 🔲 | 🔲 | |

---

### 6. 상태 관리 (Stores)

#### 6.1 Auth Store
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 6.1.1 | 토큰 저장/조회 | 🔲 | 🔲 | |
| 6.1.2 | 사용자 정보 저장/조회 | 🔲 | 🔲 | |
| 6.1.3 | 로그인 상태 체크 | 🔲 | 🔲 | |

#### 6.2 Menu Store
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 6.2.1 | 메뉴 데이터 저장 | 🔲 | 🔲 | |
| 6.2.2 | 메뉴 상태 관리 | 🔲 | 🔲 | |

#### 6.3 Layout Store
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 6.3.1 | 레이아웃 상태 관리 | 🔲 | 🔲 | |

#### 6.4 Sidebar Store
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 6.4.1 | 사이드바 열림/닫힘 상태 | 🔲 | 🔲 | |

#### 6.5 Tab Store
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 6.5.1 | 탭 목록 관리 | 🔲 | 🔲 | |
| 6.5.2 | 활성 탭 관리 | 🔲 | 🔲 | |

---

### 7. 백엔드 API

#### 7.1 Auth API
| # | 엔드포인트 | 메서드 | 전 | 후 | 비고 |
|---|-----------|--------|:--:|:--:|------|
| 7.1.1 | `/api/auth/login` | POST | 🔲 | 🔲 | |
| 7.1.2 | `/api/auth/logout` | POST | 🔲 | 🔲 | |
| 7.1.3 | `/api/auth/refresh` | POST | 🔲 | 🔲 | |
| 7.1.4 | `/api/auth/me` | GET | 🔲 | 🔲 | |

#### 7.2 Menu API
| # | 엔드포인트 | 메서드 | 전 | 후 | 비고 |
|---|-----------|--------|:--:|:--:|------|
| 7.2.1 | `/api/menus` | GET | 🔲 | 🔲 | |

#### 7.3 Project API
| # | 엔드포인트 | 메서드 | 전 | 후 | 비고 |
|---|-----------|--------|:--:|:--:|------|
| 7.3.1 | `/api/projects` | GET | 🔲 | 🔲 | |
| 7.3.2 | `/api/projects` | POST | 🔲 | 🔲 | |
| 7.3.3 | `/api/projects/:id` | GET | 🔲 | 🔲 | |

#### 7.4 Health API
| # | 엔드포인트 | 메서드 | 전 | 후 | 비고 |
|---|-----------|--------|:--:|:--:|------|
| 7.4.1 | `/api/health` | GET | 🔲 | 🔲 | |

---

### 8. 데이터베이스

#### 8.1 Prisma 스키마
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 8.1.1 | 스키마 유효성 | 🔲 | 🔲 | `prisma validate` |
| 8.1.2 | 클라이언트 생성 | 🔲 | 🔲 | `prisma generate` |

#### 8.2 시드 데이터
| # | 기능 | 전 | 후 | 비고 |
|---|------|:--:|:--:|------|
| 8.2.1 | 사용자 코드 | 🔲 | 🔲 | |
| 8.2.2 | 프로젝트 상태 코드 | 🔲 | 🔲 | |
| 8.2.3 | 메뉴 데이터 | 🔲 | 🔲 | |
| 8.2.4 | 권한 데이터 | 🔲 | 🔲 | |

---

### 9. 빌드 및 실행

#### 9.1 개발 서버
| # | 명령어 | 전 | 후 | 비고 |
|---|--------|:--:|:--:|------|
| 9.1.1 | `pnpm run dev` | 🔲 | 🔲 | 전체 dev |
| 9.1.2 | `pnpm run dev:server` | 🔲 | 🔲 | 서버만 |
| 9.1.3 | `pnpm run dev:web` | 🔲 | 🔲 | 웹만 |

#### 9.2 프로덕션 빌드
| # | 명령어 | 전 | 후 | 비고 |
|---|--------|:--:|:--:|------|
| 9.2.1 | `pnpm run build` | 🔲 | 🔲 | 전체 빌드 |
| 9.2.2 | `pnpm run build:server` | 🔲 | 🔲 | |
| 9.2.3 | `pnpm run build:web` | 🔲 | 🔲 | |

#### 9.3 타입 체크
| # | 명령어 | 전 | 후 | 비고 |
|---|--------|:--:|:--:|------|
| 9.3.1 | `tsc --noEmit` (server) | 🔲 | 🔲 | |
| 9.3.2 | `tsc --noEmit` (web) | 🔲 | 🔲 | |

---

## 📊 요약

| 카테고리 | 총 항목 | 전 완료 | 후 완료 |
|----------|---------|---------|---------|
| 인증 | 12 | 0 | 0 |
| 레이아웃 | 10 | 0 | 0 |
| 메뉴 | 7 | 0 | 0 |
| 페이지 | 4 | 0 | 0 |
| API 통신 | 7 | 0 | 0 |
| 상태 관리 | 9 | 0 | 0 |
| 백엔드 API | 8 | 0 | 0 |
| 데이터베이스 | 6 | 0 | 0 |
| 빌드/실행 | 8 | 0 | 0 |
| **합계** | **71** | **0** | **0** |

---

## ✏️ 이슈 기록

리팩터링 중 발견된 이슈나 차이점을 여기에 기록합니다.

| # | 날짜 | 카테고리 | 항목 | 이슈 내용 | 해결 상태 |
|---|------|----------|------|----------|----------|
| | | | | | |
