# 레거시 코드 분석 및 기능 고도화 설계서

## 기본 정보
- **분석일자:** [YYYY-MM-DD]
- **분석자:** [이름/직책]
- **분석 대상 소스:** [소스코드 경로]

## 1. 프론트엔드 분석

### 1.1 화면 및 이벤트 흐름

| 화면명 | 구성요소 | 이벤트 | 실행 함수 | API 호출 | 참조 파일 |
|-------|---------|--------|----------|----------|----------|
| 예: 로그인 | 로그인 폼 | 버튼 클릭 | login() | /api/auth/login | src/views/Login.vue |
| | | | | | |

### 1.2 주요 컴포넌트 분석

| 컴포넌트명 | 파일 경로 | 주요 기능 | 호출 함수 | 호출 API | 데이터 흐름 |
|-----------|----------|----------|-----------|---------|------------|
| LoginForm | src/components/LoginForm.vue | 사용자 로그인 | login() | /api/auth/login | 입력 → 검증 → API → 토큰저장 |
| | | | | | |

## 2. 백엔드 분석

### 2.1 API 및 컨트롤러

| 엔드포인트 | 메소드 | 컨트롤러 | 핵심 로직 | 호출 서비스 | 응답 형식 |
|-----------|-------|----------|----------|------------|----------|
| /api/auth/login | POST | AuthController | 사용자 인증 | AuthService.login() | {token, user} |
| | | | | | |

### 2.2 서비스 레이어

| 서비스 클래스 | 메소드 | 기능 설명 | 호출 레포지토리 | DB 작업 | 참조 파일 |
|--------------|-------|----------|---------------|---------|----------|
| AuthService | login() | 사용자 인증 | UserRepository.findByUsername() | SELECT users | src/service/AuthService.java |
| | | | | | |

### 2.3 로직 흐름도

예시: 로그인 프로세스
1. 프론트엔드: `LoginForm.vue` → `login()` → `/api/auth/login` 호출
2. 백엔드: `AuthController.login()` → `AuthService.login()` → `UserRepository.findByUsername()`
3. 데이터베이스: `users` 테이블 조회 → 사용자 검증 → 토큰 생성 → 응답

## 3. 데이터베이스 분석

### 3.1 주요 테이블

| 테이블명 | 주요 컬럼 | 역할 | 관계 테이블 | 인덱스 |
|---------|----------|------|------------|--------|
| users | id, username, password | 사용자 정보 저장 | user_roles | username(UK) |
| | | | | |

### 3.2 데이터 흐름

| 기능 | 시작점 | 데이터 흐름 | 변경/조회 테이블 | 결과 |
|------|-------|------------|-----------------|------|
| 로그인 | 로그인 폼 제출 | 프론트→백엔드→DB→백엔드→프론트 | users(조회) | 인증 토큰 |
| | | | | |

## 4. 개선 요구사항 및 설계

### 4.1 현재 시스템 한계점
- [한계점 1]
- [한계점 2]

### 4.2 개선 요구사항
- [요구사항 1]
- [요구사항 2]

## 5. 분석 요청 방법

프로그램 개요: (간략히 설명) 

해당 파일들과 개요의 내용을 토대로 전반적인 흐름과 주요 기점 등 위 양식에 맞춰 분석해주세요.
