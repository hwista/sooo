# DMS 서비스 개요

> 최종 업데이트: 2026-02-02

---

## 1. 프로젝트 소개

### 1.1 정의

DMS(Document Management System)는 마크다운 기반 위키 시스템으로, 팀 내 기술 문서 및 지식을 체계적으로 관리하는 웹 애플리케이션입니다.

### 1.2 핵심 가치

| 가치 | 설명 |
|------|------|
| **중앙 집중 관리** | 모든 문서를 한 곳에서 관리 |
| **실시간 협업** | 동시 편집 및 변경 추적 |
| **검색 가능성** | AI 기반 시맨틱 검색 |
| **버전 관리** | 문서 히스토리 및 롤백 |

---

## 2. 주요 기능

### 2.1 문서 관리

| 기능 | 설명 |
|------|------|
| **트리 구조** | 계층적 폴더/파일 구조 |
| **CRUD** | 문서 생성, 읽기, 수정, 삭제 |
| **탭 관리** | 다중 문서 탭 열기/닫기 |

### 2.2 에디터

| 기능 | 설명 |
|------|------|
| **마크다운** | MD 문법 지원 및 미리보기 |
| **코드 하이라이트** | 프로그래밍 언어 구문 강조 |
| **자동 저장** | 주기적 자동 저장 |
| **Undo/Redo** | 실행 취소/다시 실행 |

### 2.3 검색

| 기능 | 설명 |
|------|------|
| **텍스트 검색** | 전문 검색 |
| **AI 검색** | Gemini 기반 시맨틱 검색 |
| **벡터 검색** | LanceDB 임베딩 검색 |
| **트리 필터** | 파일 트리 내 실시간 필터 |

### 2.4 협업

| 기능 | 설명 |
|------|------|
| **버전 히스토리** | 문서 변경 이력 |
| **댓글** | 문서 내 코멘트 |
| **권한 관리** | 읽기/쓰기 권한 |
| **알림** | 변경 사항 알림 |

### 2.5 확장 기능

| 기능 | 설명 |
|------|------|
| **템플릿** | 문서 템플릿 선택 |
| **태그** | 문서 태그 분류 |
| **플러그인** | 확장 기능 관리 |
| **테마** | 라이트/다크 모드 |

---

## 3. 시스템 아키텍처

### 3.1 기술 스택

```
┌─────────────────────────────────────────────────────────┐
│                     Frontend                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Next.js    │  │   React     │  │   TypeScript    │  │
│  │  15.1.0     │  │   19.2.0    │  │      ^5         │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
│                                                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │  Tiptap     │  │   MUI       │  │   Tailwind CSS  │  │
│  │  Editor     │  │   7.x       │  │      3.4        │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────┐
│                    API Routes                            │
│  /api/file, /api/files, /api/search, /api/gemini ...    │
└─────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────┐
│                    Storage                               │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │
│  │ File System │  │  LanceDB    │  │  Gemini API     │  │
│  │  (docs/)    │  │  (Vector)   │  │  (AI)           │  │
│  └─────────────┘  └─────────────┘  └─────────────────┘  │
└─────────────────────────────────────────────────────────┘
```

### 3.2 폴더 구조

```
apps/web/dms/
├── app/                    # Next.js App Router
│   ├── api/               # API Routes (19개)
│   └── page.tsx           # 메인 페이지
├── components/            # React 컴포넌트 (30+)
│   ├── editor/           # 에디터 컴포넌트
│   ├── ui/               # 기본 UI (Button, Card, Input)
│   └── wiki/             # 위키 전용 컴포넌트
├── contexts/              # React Context (6개)
├── hooks/                 # 커스텀 훅 (10개)
├── services/              # 서비스 레이어
├── types/                 # TypeScript 타입 (8개)
├── utils/                 # 유틸리티 함수 (7개)
└── lib/                   # 외부 연동 라이브러리
```

---

## 4. 데이터 흐름

### 4.1 파일 CRUD 흐름

```
User Action
    │
    ▼
┌──────────────┐
│  Component   │  WikiApp, WikiEditor
└──────────────┘
    │
    ▼
┌──────────────┐
│    Hook      │  useFileSystem
└──────────────┘
    │
    ▼
┌──────────────┐
│   Service    │  fileSystemService
└──────────────┘
    │
    ▼
┌──────────────┐
│  API Route   │  /api/file, /api/files
└──────────────┘
    │
    ▼
┌──────────────┐
│ File System  │  docs/wiki/
└──────────────┘
```

### 4.2 상태 관리 흐름

```
┌─────────────────────────────────────────┐
│              Global Context              │
│  ┌─────────┐ ┌─────────┐ ┌───────────┐  │
│  │ Wiki    │ │ Theme   │ │ Notifi-   │  │
│  │ Context │ │ Context │ │ cation    │  │
│  └─────────┘ └─────────┘ └───────────┘  │
└─────────────────────────────────────────┘
                   │
                   ▼
┌─────────────────────────────────────────┐
│              Custom Hooks                │
│  useFileSystem, useTreeData, useEditor  │
└─────────────────────────────────────────┘
                   │
                   ▼
┌─────────────────────────────────────────┐
│              Components                  │
│  WikiApp → WikiSidebar + WikiEditor     │
└─────────────────────────────────────────┘
```

---

## 5. API 엔드포인트 개요

### 5.1 핵심 API (파일 관리)

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/file` | GET, POST | 단일 파일 CRUD |
| `/api/files` | GET | 파일 트리 조회 |
| `/api/watch` | GET | SSE 파일 감시 |
| `/api/upload` | POST | 파일 업로드 |

### 5.2 검색 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/search` | GET, POST | 통합 검색 |
| `/api/text-search` | POST | 텍스트 전문 검색 |
| `/api/index` | POST | 검색 인덱싱 |

### 5.3 AI API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/gemini` | POST | Gemini AI 호출 |
| `/api/ask` | POST | AI 질문 응답 |

### 5.4 협업 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/collaborate` | GET, POST | 협업 세션 |
| `/api/comments` | GET, POST | 댓글 관리 |
| `/api/versions` | GET | 버전 히스토리 |
| `/api/notifications` | GET, POST | 알림 관리 |

### 5.5 관리 API

| 엔드포인트 | 메서드 | 설명 |
|-----------|--------|------|
| `/api/users` | GET, POST | 사용자 관리 |
| `/api/permissions` | GET, POST | 권한 관리 |
| `/api/tags` | GET, POST | 태그 관리 |
| `/api/templates` | GET | 템플릿 목록 |
| `/api/plugins` | GET, POST | 플러그인 관리 |
| `/api/git` | POST | Git 연동 |

---

## 6. 관련 문서

- [tech-stack.md](../architecture/tech-stack.md) - 기술 스택 상세
- [package-spec.md](../architecture/package-spec.md) - 패키지 명세
- [hooks.md](../guides/hooks.md) - 커스텀 훅 가이드
- [components.md](../guides/components.md) - 컴포넌트 가이드
- [api.md](../guides/api.md) - API 상세 가이드
